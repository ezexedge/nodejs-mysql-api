"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.avoidClashes = avoidClashes;
exports.default = void 0;

var _crc = _interopRequireDefault(require("crc-32"));

var _v = _interopRequireDefault(require("uuid/v1"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @description Generate a unique integer - *default exported function*
```javascript
import uniqueInteger from 'unique-integer'

const id = uniqueInteger()
```
 * @return {number} A unique integer
 */
function uniqueInteger() {
  const id = (0, _v.default)();
  return _crc.default.str(id);
}

var _default = uniqueInteger;
/**
 * @description Generate a unique integer avoiding a particular range
```javascript
import assert from 'assert'
import { avoidClashes } from 'unique-integer'

const ceiling = 1000
const floor = 0
const id = avoidClashes({ ceiling, floor })
assert(id > ceiling)
assert(id < floor)
```
 * @param {Object} options
 * @param {number} options.ceiling - lower bound of the range to avoid
 * @param {number} options.floor - upper bound of the range to avoid
 * @return {number} A unique integer
 */

exports.default = _default;

function avoidClashes({
  ceiling,
  floor
}) {
  const id = uniqueInteger(); // If it's not outside the clash bounds, try again

  return id > ceiling || id < floor ? id : avoidClashes({
    ceiling,
    floor
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJ1bmlxdWVJbnRlZ2VyIiwiaWQiLCJjcmMzMiIsInN0ciIsImF2b2lkQ2xhc2hlcyIsImNlaWxpbmciLCJmbG9vciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBOzs7Ozs7Ozs7QUFTQSxTQUFTQSxhQUFULEdBQTBCO0FBQ3hCLFFBQU1DLEVBQUUsR0FBRyxpQkFBWDtBQUNBLFNBQU9DLGFBQU1DLEdBQU4sQ0FBVUYsRUFBVixDQUFQO0FBQ0Q7O2VBRWNELGE7QUFFZjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkEsU0FBU0ksWUFBVCxDQUF1QjtBQUFFQyxFQUFBQSxPQUFGO0FBQVdDLEVBQUFBO0FBQVgsQ0FBdkIsRUFBMkM7QUFDekMsUUFBTUwsRUFBRSxHQUFHRCxhQUFhLEVBQXhCLENBRHlDLENBRXpDOztBQUNBLFNBQVFDLEVBQUUsR0FBR0ksT0FBTCxJQUFnQkosRUFBRSxHQUFHSyxLQUF0QixHQUErQkwsRUFBL0IsR0FBb0NHLFlBQVksQ0FBQztBQUFFQyxJQUFBQSxPQUFGO0FBQVdDLElBQUFBO0FBQVgsR0FBRCxDQUF2RDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyYzMyIGZyb20gJ2NyYy0zMidcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQvdjEnXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIEdlbmVyYXRlIGEgdW5pcXVlIGludGVnZXIgLSAqZGVmYXVsdCBleHBvcnRlZCBmdW5jdGlvbipcbmBgYGphdmFzY3JpcHRcbmltcG9ydCB1bmlxdWVJbnRlZ2VyIGZyb20gJ3VuaXF1ZS1pbnRlZ2VyJ1xuXG5jb25zdCBpZCA9IHVuaXF1ZUludGVnZXIoKVxuYGBgXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgdW5pcXVlIGludGVnZXJcbiAqL1xuZnVuY3Rpb24gdW5pcXVlSW50ZWdlciAoKSB7XG4gIGNvbnN0IGlkID0gdXVpZCgpXG4gIHJldHVybiBjcmMzMi5zdHIoaWQpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVuaXF1ZUludGVnZXJcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gR2VuZXJhdGUgYSB1bmlxdWUgaW50ZWdlciBhdm9pZGluZyBhIHBhcnRpY3VsYXIgcmFuZ2VcbmBgYGphdmFzY3JpcHRcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0J1xuaW1wb3J0IHsgYXZvaWRDbGFzaGVzIH0gZnJvbSAndW5pcXVlLWludGVnZXInXG5cbmNvbnN0IGNlaWxpbmcgPSAxMDAwXG5jb25zdCBmbG9vciA9IDBcbmNvbnN0IGlkID0gYXZvaWRDbGFzaGVzKHsgY2VpbGluZywgZmxvb3IgfSlcbmFzc2VydChpZCA+IGNlaWxpbmcpXG5hc3NlcnQoaWQgPCBmbG9vcilcbmBgYFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmNlaWxpbmcgLSBsb3dlciBib3VuZCBvZiB0aGUgcmFuZ2UgdG8gYXZvaWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmZsb29yIC0gdXBwZXIgYm91bmQgb2YgdGhlIHJhbmdlIHRvIGF2b2lkXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgdW5pcXVlIGludGVnZXJcbiAqL1xuZnVuY3Rpb24gYXZvaWRDbGFzaGVzICh7IGNlaWxpbmcsIGZsb29yIH0pIHtcbiAgY29uc3QgaWQgPSB1bmlxdWVJbnRlZ2VyKClcbiAgLy8gSWYgaXQncyBub3Qgb3V0c2lkZSB0aGUgY2xhc2ggYm91bmRzLCB0cnkgYWdhaW5cbiAgcmV0dXJuIChpZCA+IGNlaWxpbmcgfHwgaWQgPCBmbG9vcikgPyBpZCA6IGF2b2lkQ2xhc2hlcyh7IGNlaWxpbmcsIGZsb29yIH0pXG59XG5cbmV4cG9ydCB7IGF2b2lkQ2xhc2hlcyB9XG4iXX0=